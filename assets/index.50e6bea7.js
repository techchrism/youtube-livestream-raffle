const ke=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}};ke();const T={};function Ae(e){T.context=e}const Ne=(e,t)=>e===t,Pe=Symbol("solid-proxy"),Ie=Symbol("solid-track"),J={equals:Ne};let we=Se;const j={},O=1,z=2,ve={owned:null,cleanups:null,context:null,owner:null};var x=null;let G=null,b=null,K=null,S=null,I=null,oe=0;function Z(e,t){const n=b,i=x,l=e.length===0,s=l?ve:{owned:null,cleanups:null,context:null,owner:t||i},c=l?e:()=>e(()=>ue(s));x=s,b=null;try{return fe(c,!0)}finally{b=n,x=i}}function k(e,t){t=t?Object.assign({},J,t):J;const n={value:e,observers:null,observerSlots:null,pending:j,comparator:t.equals||void 0},i=l=>(typeof l=="function"&&(l=l(n.pending!==j?n.pending:n.value)),ce(n,l));return[xe.bind(n),i]}function B(e,t,n){const i=ae(e,t,!1,O);Y(i)}function Le(e,t,n){we=Ue;const i=ae(e,t,!1,O);i.user=!0,I?I.push(i):Y(i)}function E(e,t,n){n=n?Object.assign({},J,n):J;const i=ae(e,t,!0,0);return i.pending=j,i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,Y(i),xe.bind(i)}function Te(e){if(K)return e();let t;const n=K=[];try{t=e()}finally{K=null}return fe(()=>{for(let i=0;i<n.length;i+=1){const l=n[i];if(l.pending!==j){const s=l.pending;l.pending=j,ce(l,s)}}},!1),t}function q(e){let t,n=b;return b=null,t=e(),b=n,t}function ye(e){Le(()=>q(e))}function re(e){return x===null||(x.cleanups===null?x.cleanups=[e]:x.cleanups.push(e)),e}function Ee(e){const t=E(e);return E(()=>ie(t()))}function xe(){const e=G;if(this.sources&&(this.state||e)){const t=S;S=null,this.state===O||e?Y(this):ee(this),S=t}if(b){const t=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(t)):(b.sources=[this],b.sourceSlots=[t]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return this.value}function ce(e,t,n){if(K)return e.pending===j&&K.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let i=!1;return e.value=t,e.observers&&e.observers.length&&fe(()=>{for(let l=0;l<e.observers.length;l+=1){const s=e.observers[l];i&&G.disposed.has(s),(i&&!s.tState||!i&&!s.state)&&(s.pure?S.push(s):I.push(s),s.observers&&$e(s)),i||(s.state=O)}if(S.length>1e6)throw S=[],new Error},!1),t}function Y(e){if(!e.fn)return;ue(e);const t=x,n=b,i=oe;b=x=e,Me(e,e.value,i),b=n,x=t}function Me(e,t,n){let i;try{i=e.fn(t)}catch(l){Ce(l)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?ce(e,i):e.value=i,e.updatedAt=n)}function ae(e,t,n,i=O,l){const s={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:x,context:null,pure:n};return x===null||x!==ve&&(x.owned?x.owned.push(s):x.owned=[s]),s}function W(e){const t=G;if(e.state===0||t)return;if(e.state===z||t)return ee(e);if(e.suspense&&q(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<oe);)(e.state||t)&&n.push(e);for(let i=n.length-1;i>=0;i--)if(e=n[i],e.state===O||t)Y(e);else if(e.state===z||t){const l=S;S=null,ee(e,n[0]),S=l}}function fe(e,t){if(S)return e();let n=!1;t||(S=[]),I?n=!0:I=[],oe++;try{const i=e();return Re(n),i}catch(i){S||(I=null),Ce(i)}}function Re(e){S&&(Se(S),S=null),!e&&(I.length?Te(()=>{we(I),I=null}):I=null)}function Se(e){for(let t=0;t<e.length;t++)W(e[t])}function Ue(e){let t,n=0;for(t=0;t<e.length;t++){const l=e[t];l.user?e[n++]=l:W(l)}T.context&&Ae();const i=e.length;for(t=0;t<n;t++)W(e[t]);for(t=i;t<e.length;t++)W(e[t])}function ee(e,t){const n=G;e.state=0;for(let i=0;i<e.sources.length;i+=1){const l=e.sources[i];l.sources&&(l.state===O||n?l!==t&&W(l):(l.state===z||n)&&ee(l,t))}}function $e(e){const t=G;for(let n=0;n<e.observers.length;n+=1){const i=e.observers[n];(!i.state||t)&&(i.state=z,i.pure?S.push(i):I.push(i),i.observers&&$e(i))}}function ue(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const s=l.pop(),c=n.observerSlots.pop();i<l.length&&(s.sourceSlots[c]=i,l[i]=s,n.observerSlots[i]=c)}}if(e.owned){for(t=0;t<e.owned.length;t++)ue(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Ce(e){throw e}function ie(e){if(typeof e=="function"&&!e.length)return ie(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const i=ie(e[n]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return t}return e}const De=Symbol("fallback");function ge(e){for(let t=0;t<e.length;t++)e[t]()}function Be(e,t,n={}){let i=[],l=[],s=[],c=0,o=t.length>1?[]:null;return re(()=>ge(s)),()=>{let u=e()||[],f,r;return u[Ie],q(()=>{let d=u.length,p,a,$,g,N,w,C,_,m;if(d===0)c!==0&&(ge(s),s=[],i=[],l=[],c=0,o&&(o=[])),n.fallback&&(i=[De],l[0]=Z(L=>(s[0]=L,n.fallback())),c=1);else if(c===0){for(l=new Array(d),r=0;r<d;r++)i[r]=u[r],l[r]=Z(h);c=d}else{for($=new Array(d),g=new Array(d),o&&(N=new Array(d)),w=0,C=Math.min(c,d);w<C&&i[w]===u[w];w++);for(C=c-1,_=d-1;C>=w&&_>=w&&i[C]===u[_];C--,_--)$[_]=l[C],g[_]=s[C],o&&(N[_]=o[C]);for(p=new Map,a=new Array(_+1),r=_;r>=w;r--)m=u[r],f=p.get(m),a[r]=f===void 0?-1:f,p.set(m,r);for(f=w;f<=C;f++)m=i[f],r=p.get(m),r!==void 0&&r!==-1?($[r]=l[f],g[r]=s[f],o&&(N[r]=o[f]),r=a[r],p.set(m,r)):s[f]();for(r=w;r<d;r++)r in $?(l[r]=$[r],s[r]=g[r],o&&(o[r]=N[r],o[r](r))):l[r]=Z(h);l=l.slice(0,c=d),i=u.slice(0)}return l});function h(d){if(s[r]=d,o){const[p,a]=k(r);return o[r]=a,t(u[r],p)}return t(u[r])}}}function v(e,t){return q(()=>e(t||{}))}function X(){return!0}const Oe={get(e,t,n){return t===Pe?n:e.get(t)},has(e,t){return e.has(t)},set:X,deleteProperty:X,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:X,deleteProperty:X}},ownKeys(e){return e.keys()}};function ne(e){return(e=typeof e=="function"?e():e)==null?{}:e}function Fe(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const i=ne(e[n])[t];if(i!==void 0)return i}},has(t){for(let n=e.length-1;n>=0;n--)if(t in ne(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(ne(e[n])));return[...new Set(t)]}},Oe)}function je(e){const t="fallback"in e&&{fallback:()=>e.fallback};return E(Be(()=>e.each,e.children,t||void 0))}function V(e){let t=!1;const n=E(()=>e.when,void 0,{equals:(i,l)=>t?i===l:!i==!l});return E(()=>{const i=n();if(i){const l=e.children;return(t=typeof l=="function"&&l.length>0)?q(()=>l(i)):l}return e.fallback})}function Ve(e){let t=!1;const n=Ee(()=>e.children),i=E(()=>{let l=n();Array.isArray(l)||(l=[l]);for(let s=0;s<l.length;s++){const c=l[s].when;if(c)return[s,c,l[s]]}return[-1]},void 0,{equals:(l,s)=>l[0]===s[0]&&(t?l[1]===s[1]:!l[1]==!s[1])&&l[2]===s[2]});return E(()=>{const[l,s,c]=i();if(l<0)return e.fallback;const o=c.children;return(t=typeof o=="function"&&o.length>0)?q(()=>o(s)):o})}function le(e){return e}function qe(e,t,n){let i=n.length,l=t.length,s=i,c=0,o=0,u=t[l-1].nextSibling,f=null;for(;c<l||o<s;){if(t[c]===n[o]){c++,o++;continue}for(;t[l-1]===n[s-1];)l--,s--;if(l===c){const r=s<i?o?n[o-1].nextSibling:n[s-o]:u;for(;o<s;)e.insertBefore(n[o++],r)}else if(s===o)for(;c<l;)(!f||!f.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[s-1]&&n[o]===t[l-1]){const r=t[--l].nextSibling;e.insertBefore(n[o++],t[c++].nextSibling),e.insertBefore(n[--s],r),t[l]=n[s]}else{if(!f){f=new Map;let h=o;for(;h<s;)f.set(n[h],h++)}const r=f.get(t[c]);if(r!=null)if(o<r&&r<s){let h=c,d=1,p;for(;++h<l&&h<s&&!((p=f.get(t[h]))==null||p!==r+d);)d++;if(d>r-o){const a=t[c];for(;o<r;)e.insertBefore(n[o++],a)}else e.replaceChild(n[o++],t[c++])}else c++;else t[c++].remove()}}}const pe="_$DX_DELEGATE";function Ke(e,t,n){let i;return Z(l=>{i=l,t===document?e():y(t,e(),t.firstChild?null:void 0,n)}),()=>{i(),t.textContent=""}}function A(e,t,n){const i=document.createElement("template");i.innerHTML=e;let l=i.content.firstChild;return n&&(l=l.firstChild),l}function H(e,t=window.document){const n=t[pe]||(t[pe]=new Set);for(let i=0,l=e.length;i<l;i++){const s=e[i];n.has(s)||(n.add(s),t.addEventListener(s,Ge))}}function We(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return te(e,t,i,n);B(l=>te(e,t(),l,n),i)}function Ge(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),T.registry&&!T.done&&(T.done=!0,document.querySelectorAll("[id^=pl-]").forEach(i=>i.remove()));n!==null;){const i=n[t];if(i&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?i.call(n,l,e):i.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function te(e,t,n,i,l){for(T.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,c=i!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(T.context)return n;if(s==="number"&&(t=t.toString()),c){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=F(e,n,i,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean"){if(T.context)return n;n=F(e,n,i)}else{if(s==="function")return B(()=>{let o=t();for(;typeof o=="function";)o=o();n=te(e,o,n,i)}),()=>n;if(Array.isArray(t)){const o=[],u=n&&Array.isArray(n);if(se(o,t,n,l))return B(()=>n=te(e,o,n,i,!0)),()=>n;if(T.context){for(let f=0;f<o.length;f++)if(o[f].parentNode)return n=o}if(o.length===0){if(n=F(e,n,i),c)return n}else u?n.length===0?me(e,o,i):qe(e,n,o):(n&&F(e),me(e,o));n=o}else if(t instanceof Node){if(T.context&&t.parentNode)return n=c?[t]:t;if(Array.isArray(n)){if(c)return n=F(e,n,i,t);F(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function se(e,t,n,i){let l=!1;for(let s=0,c=t.length;s<c;s++){let o=t[s],u=n&&n[s];if(o instanceof Node)e.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))l=se(e,o,u)||l;else if(typeof o=="function")if(i){for(;typeof o=="function";)o=o();l=se(e,Array.isArray(o)?o:[o],u)||l}else e.push(o),l=!0;else{const f=String(o);u&&u.nodeType===3&&u.data===f?e.push(u):e.push(document.createTextNode(f))}}return l}function me(e,t,n){for(let i=0,l=t.length;i<l;i++)e.insertBefore(t[i],n)}function F(e,t,n,i){if(n===void 0)return e.textContent="";const l=i||document.createTextNode("");if(t.length){let s=!1;for(let c=t.length-1;c>=0;c--){const o=t[c];if(l!==o){const u=o.parentNode===e;!s&&!c?u?e.replaceChild(l,o):e.insertBefore(l,n):u&&o.remove()}else s=!0}}else e.insertBefore(l,n);return[l]}const _e=atob("QUl6YVN5RGZKWnNWV0g5SV9fMURjQndUZ0x3Z3lXTjJRTVlscUxN");async function Ye(e){const t=new URL("https://www.googleapis.com/youtube/v3/videos");return t.search=new URLSearchParams({part:"snippet, liveStreamingDetails",id:e,key:_e}).toString(),await(await fetch(t)).json()}class He{constructor(t,n){this.active=!1,this.chatId=t,this.onChatBatch=n}start(t=!1){this.active||(this.active=!0,this.poll(null,t))}stop(){this.active&&(this.active=!1,clearTimeout(this.nextPollTimeout))}async poll(t,n=!1){const i=new URL("https://www.googleapis.com/youtube/v3/liveChat/messages"),l={liveChatId:this.chatId,maxResults:"2000",part:"id, snippet, authorDetails",key:_e};t&&(l.pageToken=t),i.search=new URLSearchParams(l).toString();const s=await(await fetch(i)).json();this.active&&(t?this.onChatBatch(s.items):this.onChatBatch(s.items.slice(-5)),n||(this.nextPollTimeout=setTimeout(()=>{this.poll(s.nextPageToken)},s.pollingIntervalMillis)))}}const Qe=A('<div class="alert alert-error shadow-lg mt-2"></div>'),Xe=A('<div class="text-center"><label for="video-selection-url" class="label-text">Livestream URL</label><br><input type="url" id="video-selection-url" placeholder="Livestream URL" class="input"><button class="btn btn-primary mx-2">Check</button></div>'),Ze=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]+).*/;function Je(e){k();const[t,n]=k(!1),[i,l]=k(null);let s;const c=async()=>{l(null),n(!0);try{const u=s.value.trim().match(Ze);if(u===null)throw new Error("Invalid YouTube video url");const f=await Ye(u[1]);if(f.items.length===0)throw new Error("Could not find livestream");const r=f.items[0];if(r.snippet.liveBroadcastContent!=="live")throw new Error("Video is not live");e.setLiveInfo({title:r.snippet.title,thumbnail:r.snippet.thumbnails.default,chatId:r.liveStreamingDetails.activeLiveChatId})}catch(o){l(o)}finally{n(!1)}};return(()=>{const o=Xe.cloneNode(!0),u=o.firstChild,f=u.nextSibling,r=f.nextSibling,h=r.nextSibling,d=s;return typeof d=="function"?d(r):s=r,h.$$click=c,y(o,v(V,{get when(){return i()},get children(){const p=Qe.cloneNode(!0);return y(p,()=>i().toString()),p}}),null),B(()=>h.classList.toggle("loading",!!t())),o})()}H(["click"]);const ze=A(`<div class="flex flex-col items-center gap-4"><div class="text-center"><h2>Instructions:</h2><ol class="list-decimal text-left"><li>Enter the URL for the livestream and hit "check" to verify</li><li>Click "start" to begin watching chat</li><li>Once you've decided enough messages have been received, click "stop"</li><li>Select the messages you want to be entered (don't worry about duplicates)</li><li>Click "next" and tap to start the raffle!</li></ol></div><div>Source code: <a class="link" href="https://github.com/techchrism/youtube-livestream-raffle">https://github.com/techchrism/youtube-livestream-raffle</a></div><div><span>Selected livestream: </span></div><button class="btn btn-success">Start</button></div>`);function et(e){const[t,n]=k(),i=E(()=>!!t()),l=()=>{e.onStart({chatId:t().chatId})};return(()=>{const s=ze.cloneNode(!0),c=s.firstChild,o=c.nextSibling,u=o.nextSibling;u.firstChild;const f=u.nextSibling;return y(s,v(Je,{setLiveInfo:n}),u),y(u,v(V,{get when(){return t()},fallback:"none",get children(){return t().title}}),null),f.$$click=l,B(()=>f.classList.toggle("btn-disabled",!i())),s})()}H(["click"]);const tt=A('<input type="checkbox" class="checkbox">'),nt=A('<button class="w-full btn justify-start h-auto normal-case"><div class="flex flex-row items-center gap-x-2 min-w-0"><div class="overflow-clip rounded-full min-w-max min-h-max"><img class="h-6 w-6" alt="profile picture" referrerpolicy="no-referrer"></div><div class="text-neutral-content"></div><div class="my-3 break-words min-w-0 text-primary-content"></div></div></button>');function lt(e){const t=Fe({checked:!1},e),n=()=>{t.setChecked(!t.checked)};return(()=>{const i=nt.cloneNode(!0),l=i.firstChild,s=l.firstChild,c=s.firstChild,o=s.nextSibling,u=o.nextSibling;return i.$$click=n,y(l,v(V,{get when(){return!e.disabled},get children(){const f=tt.cloneNode(!0);return B(()=>f.checked=t.checked),f}}),s),y(o,()=>e.message.authorDetails.displayName),y(u,()=>e.message.snippet.displayMessage),B(f=>{const r=!!e.disabled,h=e.message.authorDetails.profileImageUrl;return r!==f._v$&&i.classList.toggle("btn-disabled",f._v$=r),h!==f._v$2&&We(c,"src",f._v$2=h),f},{_v$:void 0,_v$2:void 0}),i})()}H(["click"]);const it=A('<button class="btn btn-success">Next</button>'),st=A('<div class="fixed m-3 w-full"><div class="flex flex-row items-center justify-center gap-x-2"><div class="badge badge-lg badge-info"> Messages</div><div class="badge badge-lg badge-info"> Selected Channels</div></div></div>'),ot=A('<ul class="mx-2 pt-16"></ul>'),rt=A('<button class="btn btn-error">Stop</button>'),ct=A('<li class="m-1"></li>');function at(e){const[t,n]=k(!1),[i,l]=k([]),s=new He(e.settings.chatId,r=>{l(h=>[...h,...r.filter(d=>d.snippet.type==="textMessageEvent").map(d=>({...d,selected:!1}))])}),c=E(()=>i().filter(r=>r.selected).map(r=>({id:r.authorDetails.channelId,name:r.authorDetails.displayName,profilePicture:r.authorDetails.profileImageUrl})).filter((r,h,d)=>d.findIndex(p=>p.id===r.id)===h));ye(()=>{s.start()}),re(()=>{s.stop()});const o=r=>{l(h=>h.map(d=>d===r?{...d,selected:!d.selected}:d))},u=()=>{n(r=>!r),s.stop()},f=()=>{e.onNext(c())};return[(()=>{const r=st.cloneNode(!0),h=r.firstChild,d=h.firstChild,p=d.firstChild,a=d.nextSibling,$=a.firstChild;return y(h,v(V,{get when(){return t()},get fallback(){return(()=>{const g=rt.cloneNode(!0);return g.$$click=u,g})()},get children(){const g=it.cloneNode(!0);return g.$$click=f,g}}),d),y(d,()=>i().length,p),y(a,()=>c().length,$),r})(),(()=>{const r=ot.cloneNode(!0);return y(r,v(je,{get each(){return i()},children:h=>(()=>{const d=ct.cloneNode(!0);return y(d,v(lt,{message:h,get checked(){return h.selected},get disabled(){return!t()},setChecked:p=>{o(h)}})),d})()})),r})()]}H(["click"]);const ft=A('<div class="flex flex-col items-center"><h3 class="font-bold text-lg">Congratulations <!>!</h3></div>'),ut=A('<div class="flex items-stretch flex-col h-screen overflow-hidden"><h2 class="text-center font-bold text-xl mt-3"></h2><input type="checkbox" id="winner-modal" class="modal-toggle"><div class="modal"><div class="modal-box"><div class="modal-action"><label for="winner-modal" class="btn">Yay!</label></div></div></div><div class="flex-grow"><canvas class="w-full h-full"></canvas></div></div>');function dt(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}const ht=Math.PI/10,be=[{color:"#E84855",textColor:"black"},{color:"#05C8FF",textColor:"black"},{color:"#F9DC5C",textColor:"black"},{color:"#0BBC61",textColor:"black"}];function gt(e){const t=[...e.initialSelected];dt(t);const[n,i]=k(t.map((a,$)=>{const g=new Image;return g.referrerPolicy="no-referrer",g.src=a.profilePicture,{...a,image:g,color:be[$%be.length]}})),[l,s]=k();let c,o,u=!0,f=Date.now(),r=0,h=-1;const d=()=>{const a=c.getContext("2d"),$=window.devicePixelRatio,g=getComputedStyle(c),N=parseFloat(g.getPropertyValue("height").slice(0,-2))*$,w=parseFloat(g.getPropertyValue("width").slice(0,-2))*$;c.height=N,c.width=w;const C=Date.now(),_=(C-f)/1e3;f=C;const m=n(),L=Math.PI*2/m.length;if(h===-1)r=(r+ht*_)%(Math.PI*2);else if(h!==0){r+=_*h,h*=.985;const R=(m.length-Math.floor((r+L/2)%(Math.PI*2)/L))%m.length;s(m[R]),h<.01&&(h=0,o.checked=!0)}const Q=10,P=Math.min(N,w)/2-Q;a.save(),a.translate(w/2,N/2),a.save(),a.rotate(r);for(let R=0;R<m.length;R++){const D=m[R];a.save(),a.rotate(L*R),a.beginPath(),a.arc(0,0,P,L/-2,L/2),a.lineTo(0,0),a.closePath(),a.fillStyle=D.color.color,a.fill();const U=P/5-m.length/2;a.save(),a.translate(P-5+U*-1,U/-2),a.beginPath(),a.arc(U/2,U/2,U/2,2*Math.PI,0),a.clip(),a.drawImage(D.image,0,0,U,U),a.restore();const de=P/10-m.length/2;a.font=`bold ${de}px serif`,a.textAlign="right",a.fillStyle=D.color.textColor;const he=P-U-10;a.fillText(D.name,he,de/4,he),a.restore()}a.restore(),a.save();const M=P/5;a.translate(P-M/2,0),a.beginPath(),a.lineTo(M,M),a.lineTo(M,-M),a.lineTo(0,0),a.fill(),a.restore(),a.restore(),u&&requestAnimationFrame(d)};ye(()=>{d()}),re(()=>{u=!1});const p=()=>{h=20+Math.random()*5};return(()=>{const a=ut.cloneNode(!0),$=a.firstChild,g=$.nextSibling,N=g.nextSibling,w=N.firstChild,C=w.firstChild,_=N.nextSibling,m=_.firstChild;y($,v(V,{get when(){return l()},get fallback(){return"Tap to Spin"},get children(){return l().name}}));const L=o;typeof L=="function"?L(g):o=g,y(w,v(V,{get when(){return l()},get children(){const P=ft.cloneNode(!0),M=P.firstChild,R=M.firstChild,D=R.nextSibling;return D.nextSibling,y(M,()=>l().name,D),y(P,()=>l().image,null),P}}),C),m.$$click=p;const Q=c;return typeof Q=="function"?Q(m):c=m,a})()}H(["click"]);const pt=()=>{const[e,t]=k(),[n,i]=k([]),[l,s]=k("setup"),c=u=>{t(u),s("chat")},o=u=>{i(u),s("raffle")};return v(Ve,{get children(){return[v(le,{get when(){return l()==="setup"},get children(){return v(et,{onStart:c})}}),v(le,{get when(){return l()==="chat"},get children(){return v(at,{get settings(){return e()},onNext:o})}}),v(le,{get when(){return l()==="raffle"},get children(){return v(gt,{get initialSelected(){return n()}})}})]}})};Ke(()=>v(pt,{}),document.getElementById("root"));
